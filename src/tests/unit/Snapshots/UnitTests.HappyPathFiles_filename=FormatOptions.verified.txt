#nullable enable
using static Seekatar.Mask;
using System.Linq;
using System;
namespace Seekatar.OptionToStringGenerator
{
    /// <summary>
    /// Class for OptionsToString extension methods.
    /// </summary>
    public static partial class ClassExtensions
    {
        /// <summary>
        /// Converts the options to a string representation.
        /// </summary>
        /// <param name="o">object</param>
        /// <param name="extraIndent">any extra indent</param>
        /// <param name="titleSuffix">suffix for the title of the object</param>
        /// <returns>string representation of values, redacted as configured</returns>
        public static string OptionsToString(this Test.FormatOptions? o, string extraIndent = "", string titleSuffix = "")
        {
            return $@"Test.FormatOptions{titleSuffix}:
{extraIndent}  PlainInt      : {Format(o?.PlainInt,formatMethod:(o) => o?.ToString("N0"))}
{extraIndent}  PlainDouble   : {Format(o?.PlainDouble,formatMethod:(o) => o?.ToString("0.00"))}
{extraIndent}  PlainDateTime : {Format(o?.PlainDateTime,formatMethod:(o) => o?.ToString("R"))}
{extraIndent}  PlainDateOnly : {Format(o?.PlainDateOnly,formatMethod:(o) => o?.ToString("r"))}
{extraIndent}  PlainTimeOnly : {Format(o?.PlainTimeOnly,formatMethod:(o) => o?.ToString("hh:mm:ss"))}
{extraIndent}  TimeSpan      : {Format(o?.TimeSpan,formatMethod:(o) => o?.ToString("hh\\:mm\\:ss"))}
{extraIndent}  Secrets       : {Format(o?.Secrets,formatMethod:(o) => Test.FormatOptions.MyFormatter(o),noQuote:false)}
";
        }
    }
}
